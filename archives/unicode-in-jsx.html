<!doctype html>
<html class="han-la"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/><meta name="renderer" content="webkit"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/><meta name="theme-color" content="#16a085"/><meta name="description" content="React JSX 中 unicode 的处理"/><meta name="keywords" content="react"/><title>React JSX 中 unicode 的处理 | ことりのおやつにしてやるぞー！</title><link rel="icon shortcut" type="image/ico" href="/favicon.ico"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/assets/app.css?v=8f16cadb70231219"/><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="ことりのおやつにしてやるぞー！" type="application/atom+xml">
</head><body><div id="pjax-container"><div id="main" class="container"><div id="main-post" role="main" itemscope="" itemType="http://schema.org/BlogPosting"><article class="post" style="padding-top:20px"><h2 itemProp="name headline" style="font-weight:normal">React JSX 中 unicode 的处理</h2><div class="text-right"><div class="text-bar"><a href="https://kotori.love" class="fui-home"></a><a href="#disqus_thread" class="fui-bubble" data-action="comment-go"></a><a style="font-size:30px;margin-left:1px">·</a><a href="https://twitter.com/intent/tweet?url=https://kotori.love/archives/unicode-in-jsx.html" target="_blank" rel="nofollow" data-placement="bottom" data-toggle="tooltip" title="Twitter" class="fui-twitter"></a><a href="https://www.facebook.com/sharer/sharer.php?u=https://kotori.love/archives/unicode-in-jsx.html" target="_blank" rel="nofollow" data-placement="bottom" data-toggle="tooltip" title="Facebook" class="fui-facebook"></a></div><div class="post-info"><span class="post-info-n"><a href="/categories/%E7%A7%91%E6%8A%80/">科技</a></span><a href="/tags/react/">react</a><a><time dateTime="2017-08-25T02:19:00.000Z">2017-08-25</time></a></div></div><div class="post-content" itemProp="articleBody"><p>因为某些需要，创建了一个 iconfont 的组件，旨在根据 unicode 的～～id???~~ 来创建对应的图标字体，大致用法是这样的</p>
<pre><code class="language-js">&lt;Icon content=&quot;628&quot; /&gt;
</code></pre>
<p>这样就会生成一段 html</p>
<pre><code class="language-html">&lt;i class=&quot;iconfont&quot;&gt;&amp;#xe628;&lt;/i&gt;
</code></pre>
<p>如果这样还好办，可以用 <code>dangerouslySetInnerHTML</code>  达到效果。</p>
<p>但是，有些情况下，需要达到如下效果</p>
<pre><code class="language-js">&lt;Icon tagName=&quot;input&quot; content=&quot;628&quot; /&gt;
</code></pre>
<p>生成这样的 html</p>
<pre><code class="language-html">&lt;input class=&quot;iconfont&quot; type=&quot;button&quot; value=&quot;&amp;#xe628;&quot; /&gt;
</code></pre>
<p><s>可是为什么不生成 <code>&lt;button type=&quot;button&quot;&gt;&amp;#xe628;&lt;/button&gt;</code>  呢 (⊙o⊙)</s></p>
<p>如果在组件中直接拼字符串，会在页面上吧 <code>&amp;#xe628;</code>  直接输出</p>
<pre><code class="language-js">const Icon = ({ content }) =&gt;
  &lt;input className=&quot;iconfont&quot; type=&quot;button&quot; defaultValue={`&amp;#xe${content};`} /&gt;;
</code></pre>
<p>不过，把 unicode 稍微转换一下就可以啦 (●′ω`●)</p>
<pre><code class="language-js">const convertUnicode = input =&gt;
  input.replace(/\\u(\w\w\w\w)/g, (a, b) =&gt;
    String.fromCharCode(parseInt(b, 16))
  );

const Icon = ({ content }) =&gt;
  &lt;input class=&quot;iconfont&quot; type=&quot;button&quot; defaultValue={convertUnicode(`\\ue${content}`)} /&gt;;
</code></pre>
</div></article></div><center><div id="postnav"><ul class="pager"><li class="previous"><a href="https://kotori.love"><span class="fui-home"></span></a></li><li class="next" data-action="comment-show"><a href="#"><span class="fui-chat"></span></a></li><li class="previous"><a href="https://kotori.love/archives/line-social-login.html" title="LINE 社交登录简单记录">LINE 社交登录简单记录</a></li><li class="next"><a href="https://kotori.love/archives/php-get-private-property.html" title="从外部获取 php 类的私有属性">从外部获取 php 类的私有属性</a></li></ul></div></center><div id="disqus_thread" style="display:none" data-title="React JSX 中 unicode 的处理" data-permalink="https://kotori.love/archives/unicode-in-jsx.html"></div></div><footer id="footer" class="container" style="background:rgba(255, 255, 255, 0)"><hr/><div style="text-align:center;padding-bottom:9px"><p>© 2015 - 2020 <a href="https://kotori.love">ことりのおやつにしてやるぞー！</a>. Using <a target="_blank" href="https://hexo.io/">Hexo</a>  &amp; <a target="_blank" href="https://yumoe.com">Moricolor</a> / <a href="/atom.xml" data-nopjax="true">RSS</a></p></div></footer><script id="mori-json" type="text/json">{"bottomTools":{"hitokoto":true,"category":true,"tag":false,"search":true},"comment":{"use":"disqus","shortname":"sora-diary"},"analytics":{"use":"google","id":"UA-70944432-1"},"url":"https://kotori.love"}</script><script src="/assets/app.js?v=cc3b30b8846b6f18"></script></div></body></html>