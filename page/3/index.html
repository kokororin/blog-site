<!doctype html>
<html class="han-la"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/><meta name="renderer" content="webkit"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/><meta name="theme-color" content="#16a085"/><meta name="description" content="=w="/><meta name="keywords" content="Sora酱,Sora酱的博客,typecho,动漫,番剧"/><title>ことりのおやつにしてやるぞー！</title><link rel="icon shortcut" type="image/ico" href="/favicon.ico"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/assets/app.css?v=8f16cadb70231219"/><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="ことりのおやつにしてやるぞー！" type="application/atom+xml">
</head><body><div id="pjax-container"><header class="container"><a href="https://kotori.love"><h1 style="color:#34495e">ことりのおやつにしてやるぞー！</h1></a><p class="description">=w=</p><hr/></header><div id="main" class="container"><div id="main-index"><h4 class="index-topic">記事</h4><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="0" href="#"><time dateTime="2016-11-01T02:10:00.000Z">Nov 01, 2016</time></a></dt><dd><a itemType="url" href="/archives/curl-login-pixiv.html">模拟登录 pixiv.net</a></dd><dd class="collapse" data-collapse-id="0"><small>注意：本文的方法已作废，新方法在这里

由于 pixivAPI 有一些内容无法获取，于是模拟登录就派上用场辣

旧版登录接口 (https://www.secure.pixiv.net/login.php) 已经作废。目前新版登录页是用 React 渲染的，但是还是为老浏览器用户开启了兼容♂通道，首先找出这段表单代码：


  
    </small></dd></dl></article><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="1" href="#"><time dateTime="2016-09-30T00:41:00.000Z">Sep 30, 2016</time></a></dt><dd><a itemType="url" href="/archives/backup-vps-to-git.html">备份服务器数据至 git</a></dd><dd class="collapse" data-collapse-id="1"><small>之前有过一篇《将 VPS 备份到 Dropbox 的脚本》，现在研究了一下备份到 git 的脚本，去他喵的 Dropbox

#!/usr/bin/env bash

MYSQL_USR=&quot;&quot;
MYSQL_PWD=&quot;&quot;

WEB_DIR=/data/wwwroot
NGINX_CONF_DIR=/usr/local/tengine/conf
SCRIPT_DIR=/root/bin
LOCAL_BAK_DIR=/data/backup/to_git
COMMIT=&quot;Automatic Backup @ $(date)&quot;

eval `ssh-agent -s`
ssh-add ~/.ssh/g</small></dd></dl></article><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="2" href="#"><time dateTime="2016-08-22T11:48:00.000Z">Aug 22, 2016</time></a></dt><dd><a itemType="url" href="/archives/pixiv-batch-download.html">Pixiv の画像を一括ダウンロード</a></dd><dd class="collapse" data-collapse-id="2"><small>必要 → pixiv-api-php

#!/usr/bin/env php
search_works($word, 1, 10, &#x27;tag&#x27;);
$origin = [];
while ($result[&#x27;pagination&#x27;][&#x27;next&#x27;] != &#x27;&#x27;) {
    foreach ($result[&#x27;response&#x27;] as $value) {
       </small></dd></dl></article><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="3" href="#"><time dateTime="2016-08-03T01:49:00.000Z">Aug 03, 2016</time></a></dt><dd><a itemType="url" href="/archives/vulnerable-react-native.html">React Native 中的坑</a></dd><dd class="collapse" data-collapse-id="3"><small>复合组件无法在 TouchableOpacity 使用

        



会报 Touchable child must either be native or forward setNativeProps to a native component ，这是因为：

If you run this you will immediately see this error: Touchable child must either be native or f</small></dd></dl></article><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="4" href="#"><time dateTime="2016-07-27T06:37:00.000Z">Jul 27, 2016</time></a></dt><dd><a itemType="url" href="/archives/react-native-upload.html">React Native 中的上传</a></dd><dd class="collapse" data-collapse-id="4"><small>最近做了上传图片到服务端，其实不用第三方模块。
窝建议直接和 web 端一样采用 multipart/form-data 来上传，这样 APP 端和 web 端用的接口可以通用，至于将图片编码成 base64，再到服务端解码保存也是可以的，且效率差别也不是很大。但是由于要改服务端的逻辑，我就懒得用这个方法了。

如果仅从应用层观察，base64 是会按 4/3 比例增加传输成本。
但实际操作上，物理层和 MAC 层协议本身是有做压缩和冗余，所以用 base64，至少在这两层上讲，传输成本并不会按照 4/3 比例增多，传输效率可能和纯二进制序列传输没什么区别。

单文件
let formData</small></dd></dl></article><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="5" href="#"><time dateTime="2016-07-13T08:22:00.000Z">Jul 13, 2016</time></a></dt><dd><a itemType="url" href="/archives/react-native-es5-es6-difference.html">React/React Native 的 ES5 ES6 写法对照表</a></dd><dd class="collapse" data-collapse-id="5"><small>模块
引用
在 ES5 里，如果使用 CommonJS 标准，引入 React 包基本通过 require 进行，代码类似这样：

//ES5
var React = require(&quot;react&quot;);
var {
    Component,
    PropTypes
} = React;  //引用React抽象组件

var ReactNative = require(&quot;react-native&quot;);
var {
    Image,
    Text,
} = ReactNative;  //引用具体的React Native组件


在 ES6 里，import 写法更为标准

/</small></dd></dl></article><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="6" href="#"><time dateTime="2016-04-11T11:03:00.000Z">Apr 11, 2016</time></a></dt><dd><a itemType="url" href="/archives/php-memcached.html">初探 memcached</a></dd><dd class="collapse" data-collapse-id="6"><small>因为公司下一个项目要用到 Memcached 集群，所以学习下。。。

安装
brew install memcached
cp /usr/local/Cellar/memcached/1.4.24/homebrew.mxcl.memcached.plist ~/Library/LaunchAgents
launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.memcached.plist


参数解释
/usr/bin/memcached -d -m 128 -l 192.168.1.1 -p 11211 -u httpd


-p 监听</small></dd></dl></article><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="7" href="#"><time dateTime="2016-03-09T07:46:00.000Z">Mar 09, 2016</time></a></dt><dd><a itemType="url" href="/archives/google-chrome-new-ui-solution.html">解决新版 Chrome 被强制显示的扩展图标</a></dd><dd class="collapse" data-collapse-id="7"><small>Google Chrome 48.0.2564.116 开始，所有的扩展图标全部被显示出来了，包括国旗扩展也不能显示在地址栏了，看上去非常难受。

Windows/Linux
快捷方式 /.desktop 文件 增加启动项： --extension-action-redesign=0

Mac OS X
cd /Applications/Google Chrome.app/Contents/MacOS
mv Google\ Chrome Chrome.real
printf &#x27;#!/bin/bash\ncd &quot;/Applications/Google Chrome.app/Contents/M</small></dd></dl></article><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="8" href="#"><time dateTime="2016-02-26T06:03:00.000Z">Feb 26, 2016</time></a></dt><dd><a itemType="url" href="/archives/typecho-pjax.html">Typecho 全站 pjax 方案</a></dd><dd class="collapse" data-collapse-id="8"><small>其实最早添加 pjax 的时候就发现了评论会有问题，只是一直不知道怎么去解决，后来就放弃了。最近想出一种办法，使得全站 pjax 生效。
（可能不具有通用性，因为我使用的 Ajax 评论不是 willin kan 的那款）

搜索引擎搜到的有关 Typecho&amp;pjax 的内容主要有如下几篇：

 * Typecho 使用 pjax
 * 解决因 pjax 导致 typecho 评论失效的问题
 * typecho 使用 pjax
 * Typecho PJAX/AJAX 下评论丢失

其中基本都要修改 Typecho 的内核代码，主要是 header 中的评论 js 输出，或者是用修改版 p</small></dd></dl></article><article><dl class="dl-horizontal"><dt><a style="color:#34495e" data-toggle="collapse" data-collapse-id="9" href="#"><time dateTime="2016-02-12T06:46:00.000Z">Feb 12, 2016</time></a></dt><dd><a itemType="url" href="/archives/pixiv-lovelive-viewer-for-android.html">Pixiv LoveLive Viewer For Android</a></dd><dd class="collapse" data-collapse-id="9"><small>简介
这是一款从 Pixiv 插画网站搜索 LoveLive! 相关作品的 Android 应用，包含的标签有：

 * ラブライブ
 * 高坂穂乃果
 * 南ことり
 * 園田海未
 * 西木野真姫
 * 星空凛
 * 小泉花陽
 * 矢澤にこ
 * 絢瀬絵里
 * 东条希

参考的开源项目
 * threezj/FuLiApp
 * drakeet/Meizhi
 * tangqi92/BuildingBlocks

所用到的开源库
 * Realm (跨平台共享的数据库，可以完全取代 SQLite)
 * Volley (HTTP 通信)
 * Glide (平滑滚动的图片加载库)
 *</small></dd></dl></article></div><div id="pagenav" class="text-center"><ul class="pager"><li class="previous"><a href="/page/2/"><span><i class="fui-arrow-left"></i></span></a></li><li class="pagination-dropdown dropup"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="fui-list"></span></a><ul class="dropdown-menu dropdown-menu-inverse" style="margin-bottom:15px"><li><a href="https://kotori.love/about/">About</a></li><li><a href="https://kotori.love/guestbook/">Guestbook</a></li><li><a href="https://kotori.love/links/">Links</a></li></ul></li><li class="next"><a href="/page/4/"><span><i class="fui-arrow-right"></i></span></a></li></ul></div><div id="bottomtools"><h6>(ฅ´ω`ฅ)</h6><small><ul><section class="bottomtool"><div id="hitokoto">Lyric  ·   Loading...</div><span style="padding-right:1px">Category</span> ·  <a style="color:#95A5A6;text-shadow:0 0 1px rgba(0,0,0,.1)" href="/categories/%E7%A7%91%E6%8A%80/">&amp;科技</a>  ·  <a style="color:#95A5A6;text-shadow:0 0 1px rgba(0,0,0,.1)" href="/categories/%E7%BB%88%E7%82%B9/">&amp;终点</a>  ·  <a style="color:#95A5A6;text-shadow:0 0 1px rgba(0,0,0,.1)" href="/categories/%E6%97%A5%E8%AE%B0/">&amp;日记</a>  ·  <a style="color:#95A5A6;text-shadow:0 0 1px rgba(0,0,0,.1)" href="/categories/%E6%AC%A1%E5%85%83/">&amp;次元</a>  ·  </section></ul><form action="//www.google.com/search" target="_blank"><input type="search" autoComplete="off" name="q" class="form-control input-sm" placeholder="Search anything here~"/><input type="hidden" name="sitesearch" value="https://kotori.love"/></form></small></div></div><footer id="footer" class="container" style="background:rgba(255, 255, 255, 0)"><hr/><div style="text-align:center;padding-bottom:9px"><p>© 2015 - 2020 <a href="https://kotori.love">ことりのおやつにしてやるぞー！</a>. Using <a target="_blank" href="https://hexo.io/">Hexo</a>  &amp; <a target="_blank" href="https://yumoe.com">Moricolor</a> / <a href="/atom.xml" data-nopjax="true">RSS</a></p></div></footer><script id="mori-json" type="text/json">{"bottomTools":{"hitokoto":true,"category":true,"tag":false,"search":true},"comment":{"use":"disqus","shortname":"sora-diary"},"analytics":{"use":"google","id":"UA-70944432-1"},"url":"https://kotori.love"}</script><script src="/assets/app.js?v=cc3b30b8846b6f18"></script></div></body></html>